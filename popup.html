<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>ImgDownload</title>
    <link rel="stylesheet" href="popup.css">
</head>
<body>
    <div class="container">
        <header class="header">
            <div class="logo">
                <svg width="24" height="24" viewBox="0 0 24 24" fill="none">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <polyline points="7,10 12,15 17,10" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/>
                    <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2" stroke-linecap="round"/>
                </svg>
                <h1>ImgDownload</h1>
            </div>
            <div class="stats">
                <span id="imageCount">0</span> 张图片
            </div>
        </header>

        <div class="controls">
            <button id="scanBtn" class="btn btn-primary">
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <circle cx="11" cy="11" r="8" stroke="currentColor" stroke-width="2"/>
                    <path d="m21 21-4.35-4.35" stroke="currentColor" stroke-width="2"/>
                </svg>
                扫描图片
            </button>
            <button id="downloadAllBtn" class="btn btn-success" disabled>
                <svg width="16" height="16" viewBox="0 0 24 24" fill="none">
                    <path d="M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4" stroke="currentColor" stroke-width="2"/>
                    <polyline points="7,10 12,15 17,10" stroke="currentColor" stroke-width="2"/>
                    <line x1="12" y1="15" x2="12" y2="3" stroke="currentColor" stroke-width="2"/>
                </svg>
                下载全部
            </button>
        </div>

        <div class="filters">
            <div class="filter-group">
                <label>最小尺寸:</label>
                <select id="sizeFilter">
                    <option value="0">不限制</option>
                    <option value="100">100x100</option>
                    <option value="200" selected>200x200</option>
                    <option value="500">500x500</option>
                </select>
            </div>
            <div class="filter-group">
                <label>图片格式:</label>
                <select id="formatFilter">
                    <option value="all">全部格式</option>
                    <option value="jpg,jpeg">JPG</option>
                    <option value="png">PNG</option>
                    <option value="gif">GIF</option>
                    <option value="webp">WebP</option>
                </select>
            </div>
        </div>

        <div id="loadingSpinner" class="loading hidden">
            <div class="spinner"></div>
            <span>正在扫描图片...</span>
        </div>

        <div id="imageGrid" class="image-grid"></div>

        <div id="emptyState" class="empty-state hidden">
            <svg width="48" height="48" viewBox="0 0 24 24" fill="none">
                <rect x="3" y="3" width="18" height="18" rx="2" ry="2" stroke="currentColor" stroke-width="2"/>
                <circle cx="8.5" cy="8.5" r="1.5" stroke="currentColor" stroke-width="2"/>
                <polyline points="21,15 16,10 5,21" stroke="currentColor" stroke-width="2"/>
            </svg>
            <p>未找到符合条件的图片</p>
            <small>尝试调整筛选条件或点击"扫描图片"</small>
        </div>
    </div>

    <script src="popup.js"></script>
</body>
</html>